<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link href="coqdoc.css" rel="stylesheet" type="text/css" />
<title>lib.soundness.simulation.welltype_tsim.lemmas.Sim_lemmas</title>
</head>

<body>

<div id="page">

<div id="header">
</div>

<div id="main">

<h1 class="libtitle">Library lib.soundness.simulation.welltype_tsim.lemmas.Sim_lemmas</h1>

<div class="code">
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Bool.Bool.html#"><span class="id" title="library">Bool</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Lists.List.html#"><span class="id" title="library">List</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Lists.ListSet.html#"><span class="id" title="library">Lists.ListSet</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Arith.Arith.html#"><span class="id" title="library">Arith</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.omega.Omega.html#"><span class="id" title="library">Omega</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.omega.OmegaTactic.html#"><span class="id" title="library">Coq.omega.OmegaTactic</span></a>.<br/>

<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="lib.lang.Lang.html#"><span class="id" title="library">Lang</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="lib.lang.lemmas.Label.html#"><span class="id" title="library">Label</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="lib.lang.definitions.TidSpec.html#"><span class="id" title="library">TidSpec</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="lib.typechecking.Typeinfer.html#"><span class="id" title="library">Typeinfer</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="lib.soundness.simulation.welltype_tsim.lemmas.StateEquiv.html#"><span class="id" title="library">StateEquiv</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="lib.soundness.LeakFree.html#"><span class="id" title="library">LeakFree</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="updatepst_approx_nlabelleq"><span class="id" title="lemma">updatepst_approx_nlabelleq</span></a>:<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <span class="id" title="var">ps</span>  <span class="id" title="var">ps'</span> <span class="id" title="var">x</span> <span class="id" title="var">t</span> <span class="id" title="var">ts</span> <span class="id" title="var">tpc</span> <span class="id" title="var">n</span> <span class="id" title="var">ts'</span> <span class="id" title="var">tpc'</span> <span class="id" title="var">n'</span> <span class="id" title="var">l</span> <span class="id" title="var">pc</span> <span class="id" title="var">envp</span> <span class="id" title="var">envp'</span> <span class="id" title="var">l0</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">Henvp'</span>: <a class="idref" href="lib.soundness.simulation.welltype_tsim.lemmas.Sim_lemmas.html#envp'"><span class="id" title="variable">envp'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">(</span></a><a class="idref" href="lib.typechecking.Typeinfer.html#updateenv"><span class="id" title="definition">updateenv</span></a> <a class="idref" href="lib.soundness.simulation.welltype_tsim.lemmas.Sim_lemmas.html#envp"><span class="id" title="variable">envp</span></a> <a class="idref" href="lib.soundness.simulation.welltype_tsim.lemmas.Sim_lemmas.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="lib.soundness.simulation.welltype_tsim.lemmas.Sim_lemmas.html#l0"><span class="id" title="variable">l0</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">)</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">HPStateApprox</span>: <a class="idref" href="lib.soundness.LeakFree.html#PStateApprox"><span class="id" title="definition">PStateApprox</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><a class="idref" href="lib.soundness.simulation.welltype_tsim.lemmas.Sim_lemmas.html#tpc"><span class="id" title="variable">tpc</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="lib.soundness.simulation.welltype_tsim.lemmas.Sim_lemmas.html#ps"><span class="id" title="variable">ps</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><a class="idref" href="lib.soundness.simulation.welltype_tsim.lemmas.Sim_lemmas.html#tpc'"><span class="id" title="variable">tpc'</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="lib.soundness.simulation.welltype_tsim.lemmas.Sim_lemmas.html#ps'"><span class="id" title="variable">ps'</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a> <a class="idref" href="lib.soundness.simulation.welltype_tsim.lemmas.Sim_lemmas.html#l"><span class="id" title="variable">l</span></a> <a class="idref" href="lib.soundness.simulation.welltype_tsim.lemmas.Sim_lemmas.html#pc"><span class="id" title="variable">pc</span></a> <a class="idref" href="lib.soundness.simulation.welltype_tsim.lemmas.Sim_lemmas.html#envp"><span class="id" title="variable">envp</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">Hnotlabelleq</span>: <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#611abc97cba304de784fa909dbdea1fa"><span class="id" title="notation">¬</span></a> <a class="idref" href="lib.lang.Lang.html#labelleq"><span class="id" title="definition">labelleq</span></a> (<a class="idref" href="lib.soundness.simulation.welltype_tsim.lemmas.Sim_lemmas.html#envp'"><span class="id" title="variable">envp'</span></a> <a class="idref" href="lib.soundness.simulation.welltype_tsim.lemmas.Sim_lemmas.html#x"><span class="id" title="variable">x</span></a>) <a class="idref" href="lib.soundness.simulation.welltype_tsim.lemmas.Sim_lemmas.html#l"><span class="id" title="variable">l</span></a>),<br/>
&nbsp;&nbsp;&nbsp;<a class="idref" href="lib.soundness.LeakFree.html#PStateApprox"><span class="id" title="definition">PStateApprox</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><a class="idref" href="lib.soundness.simulation.welltype_tsim.lemmas.Sim_lemmas.html#tpc"><span class="id" title="variable">tpc</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="lib.lang.Lang.html#updateps"><span class="id" title="definition">updateps</span></a> <a class="idref" href="lib.soundness.simulation.welltype_tsim.lemmas.Sim_lemmas.html#ps"><span class="id" title="variable">ps</span></a> <a class="idref" href="lib.soundness.simulation.welltype_tsim.lemmas.Sim_lemmas.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><a class="idref" href="lib.lang.Lang.html#ts_add"><span class="id" title="definition">ts_add</span></a> <a class="idref" href="lib.soundness.simulation.welltype_tsim.lemmas.Sim_lemmas.html#t"><span class="id" title="variable">t</span></a> (<a class="idref" href="lib.lang.Lang.html#ts_union"><span class="id" title="definition">ts_union</span></a> <a class="idref" href="lib.soundness.simulation.welltype_tsim.lemmas.Sim_lemmas.html#ts"><span class="id" title="variable">ts</span></a> (<a class="idref" href="lib.lang.Lang.html#tpc_union"><span class="id" title="definition">tpc_union</span></a> <a class="idref" href="lib.soundness.simulation.welltype_tsim.lemmas.Sim_lemmas.html#tpc"><span class="id" title="variable">tpc</span></a>))<a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="lib.soundness.simulation.welltype_tsim.lemmas.Sim_lemmas.html#n"><span class="id" title="variable">n</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">))</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><a class="idref" href="lib.soundness.simulation.welltype_tsim.lemmas.Sim_lemmas.html#tpc'"><span class="id" title="variable">tpc'</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="lib.lang.Lang.html#updateps"><span class="id" title="definition">updateps</span></a> <a class="idref" href="lib.soundness.simulation.welltype_tsim.lemmas.Sim_lemmas.html#ps'"><span class="id" title="variable">ps'</span></a> <a class="idref" href="lib.soundness.simulation.welltype_tsim.lemmas.Sim_lemmas.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><a class="idref" href="lib.lang.Lang.html#ts_add"><span class="id" title="definition">ts_add</span></a> <a class="idref" href="lib.soundness.simulation.welltype_tsim.lemmas.Sim_lemmas.html#t"><span class="id" title="variable">t</span></a> (<a class="idref" href="lib.lang.Lang.html#ts_union"><span class="id" title="definition">ts_union</span></a> <a class="idref" href="lib.soundness.simulation.welltype_tsim.lemmas.Sim_lemmas.html#ts'"><span class="id" title="variable">ts'</span></a> (<a class="idref" href="lib.lang.Lang.html#tpc_union"><span class="id" title="definition">tpc_union</span></a> <a class="idref" href="lib.soundness.simulation.welltype_tsim.lemmas.Sim_lemmas.html#tpc'"><span class="id" title="variable">tpc'</span></a>))<a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="lib.soundness.simulation.welltype_tsim.lemmas.Sim_lemmas.html#n'"><span class="id" title="variable">n'</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">))</span></a> <a class="idref" href="lib.soundness.simulation.welltype_tsim.lemmas.Sim_lemmas.html#l"><span class="id" title="variable">l</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="lib.soundness.simulation.welltype_tsim.lemmas.Sim_lemmas.html#pc"><span class="id" title="variable">pc</span></a> <a class="idref" href="lib.soundness.simulation.welltype_tsim.lemmas.Sim_lemmas.html#envp'"><span class="id" title="variable">envp'</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">HPStateApprox</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">HPStateApprox1</span> <span class="id" title="var">HPStateApprox2</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="lib.soundness.LeakFree.html#PStoreApprox"><span class="id" title="definition">PStoreApprox</span></a> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="lib.lang.Lang.html#updateps"><span class="id" title="definition">updateps</span></a> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="lib.typechecking.Typeinfer.html#updateenv"><span class="id" title="definition">updateenv</span></a> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Arith.Peano_dec.html#eq_nat_dec"><span class="id" title="abbreviation">eq_nat_dec</span></a> <span class="id" title="var">x</span> <span class="id" title="var">x0</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Arith.PeanoNat.html#Nat.eq_dec"><span class="id" title="lemma">Nat.eq_dec</span></a> <span class="id" title="var">x0</span> <span class="id" title="var">x0</span>); <span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="updatepst_approx_labelleq"><span class="id" title="lemma">updatepst_approx_labelleq</span></a>:<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <span class="id" title="var">ps</span>  <span class="id" title="var">ps'</span> <span class="id" title="var">x</span> <span class="id" title="var">t</span> <span class="id" title="var">ts</span> <span class="id" title="var">tpc</span> <span class="id" title="var">n</span> <span class="id" title="var">ts'</span> <span class="id" title="var">n'</span> <span class="id" title="var">tpc'</span> <span class="id" title="var">l</span> <span class="id" title="var">pc</span> <span class="id" title="var">envp</span> <span class="id" title="var">l0</span> <span class="id" title="var">envp'</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">Henvp'</span>: <a class="idref" href="lib.soundness.simulation.welltype_tsim.lemmas.Sim_lemmas.html#envp'"><span class="id" title="variable">envp'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">(</span></a><a class="idref" href="lib.typechecking.Typeinfer.html#updateenv"><span class="id" title="definition">updateenv</span></a> <a class="idref" href="lib.soundness.simulation.welltype_tsim.lemmas.Sim_lemmas.html#envp"><span class="id" title="variable">envp</span></a> <a class="idref" href="lib.soundness.simulation.welltype_tsim.lemmas.Sim_lemmas.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="lib.soundness.simulation.welltype_tsim.lemmas.Sim_lemmas.html#l0"><span class="id" title="variable">l0</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">)</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">HPStateApprox</span>: <a class="idref" href="lib.soundness.LeakFree.html#PStateApprox"><span class="id" title="definition">PStateApprox</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><a class="idref" href="lib.soundness.simulation.welltype_tsim.lemmas.Sim_lemmas.html#tpc"><span class="id" title="variable">tpc</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="lib.soundness.simulation.welltype_tsim.lemmas.Sim_lemmas.html#ps"><span class="id" title="variable">ps</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><a class="idref" href="lib.soundness.simulation.welltype_tsim.lemmas.Sim_lemmas.html#tpc'"><span class="id" title="variable">tpc'</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="lib.soundness.simulation.welltype_tsim.lemmas.Sim_lemmas.html#ps'"><span class="id" title="variable">ps'</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a> <a class="idref" href="lib.soundness.simulation.welltype_tsim.lemmas.Sim_lemmas.html#l"><span class="id" title="variable">l</span></a> <a class="idref" href="lib.soundness.simulation.welltype_tsim.lemmas.Sim_lemmas.html#pc"><span class="id" title="variable">pc</span></a> <a class="idref" href="lib.soundness.simulation.welltype_tsim.lemmas.Sim_lemmas.html#envp"><span class="id" title="variable">envp</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="lib.soundness.simulation.welltype_tsim.lemmas.Sim_lemmas.html#tpc"><span class="id" title="variable">tpc</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="lib.soundness.simulation.welltype_tsim.lemmas.Sim_lemmas.html#tpc'"><span class="id" title="variable">tpc'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="lib.soundness.simulation.welltype_tsim.lemmas.Sim_lemmas.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="lib.soundness.simulation.welltype_tsim.lemmas.Sim_lemmas.html#n'"><span class="id" title="variable">n'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="lib.lang.Lang.html#ts_eq"><span class="id" title="definition">ts_eq</span></a> <a class="idref" href="lib.soundness.simulation.welltype_tsim.lemmas.Sim_lemmas.html#ts"><span class="id" title="variable">ts</span></a> <a class="idref" href="lib.soundness.simulation.welltype_tsim.lemmas.Sim_lemmas.html#ts'"><span class="id" title="variable">ts'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;<a class="idref" href="lib.soundness.LeakFree.html#PStateApprox"><span class="id" title="definition">PStateApprox</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><a class="idref" href="lib.soundness.simulation.welltype_tsim.lemmas.Sim_lemmas.html#tpc"><span class="id" title="variable">tpc</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="lib.lang.Lang.html#updateps"><span class="id" title="definition">updateps</span></a> <a class="idref" href="lib.soundness.simulation.welltype_tsim.lemmas.Sim_lemmas.html#ps"><span class="id" title="variable">ps</span></a> <a class="idref" href="lib.soundness.simulation.welltype_tsim.lemmas.Sim_lemmas.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><a class="idref" href="lib.lang.Lang.html#ts_add"><span class="id" title="definition">ts_add</span></a> <a class="idref" href="lib.soundness.simulation.welltype_tsim.lemmas.Sim_lemmas.html#t"><span class="id" title="variable">t</span></a> (<a class="idref" href="lib.lang.Lang.html#ts_union"><span class="id" title="definition">ts_union</span></a> <a class="idref" href="lib.soundness.simulation.welltype_tsim.lemmas.Sim_lemmas.html#ts"><span class="id" title="variable">ts</span></a> (<a class="idref" href="lib.lang.Lang.html#tpc_union"><span class="id" title="definition">tpc_union</span></a> <a class="idref" href="lib.soundness.simulation.welltype_tsim.lemmas.Sim_lemmas.html#tpc"><span class="id" title="variable">tpc</span></a>))<a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="lib.soundness.simulation.welltype_tsim.lemmas.Sim_lemmas.html#n"><span class="id" title="variable">n</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">))</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><a class="idref" href="lib.soundness.simulation.welltype_tsim.lemmas.Sim_lemmas.html#tpc'"><span class="id" title="variable">tpc'</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="lib.lang.Lang.html#updateps"><span class="id" title="definition">updateps</span></a> <a class="idref" href="lib.soundness.simulation.welltype_tsim.lemmas.Sim_lemmas.html#ps'"><span class="id" title="variable">ps'</span></a> <a class="idref" href="lib.soundness.simulation.welltype_tsim.lemmas.Sim_lemmas.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><a class="idref" href="lib.lang.Lang.html#ts_add"><span class="id" title="definition">ts_add</span></a> <a class="idref" href="lib.soundness.simulation.welltype_tsim.lemmas.Sim_lemmas.html#t"><span class="id" title="variable">t</span></a> (<a class="idref" href="lib.lang.Lang.html#ts_union"><span class="id" title="definition">ts_union</span></a> <a class="idref" href="lib.soundness.simulation.welltype_tsim.lemmas.Sim_lemmas.html#ts'"><span class="id" title="variable">ts'</span></a> (<a class="idref" href="lib.lang.Lang.html#tpc_union"><span class="id" title="definition">tpc_union</span></a> <a class="idref" href="lib.soundness.simulation.welltype_tsim.lemmas.Sim_lemmas.html#tpc'"><span class="id" title="variable">tpc'</span></a>))<a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="lib.soundness.simulation.welltype_tsim.lemmas.Sim_lemmas.html#n'"><span class="id" title="variable">n'</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">))</span></a> <a class="idref" href="lib.soundness.simulation.welltype_tsim.lemmas.Sim_lemmas.html#l"><span class="id" title="variable">l</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="lib.soundness.simulation.welltype_tsim.lemmas.Sim_lemmas.html#pc"><span class="id" title="variable">pc</span></a> <a class="idref" href="lib.soundness.simulation.welltype_tsim.lemmas.Sim_lemmas.html#envp'"><span class="id" title="variable">envp'</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">HPStateApprox</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">HPStateApprox1</span> <span class="id" title="var">HPStateApprox2</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="lib.soundness.LeakFree.html#PStoreApprox"><span class="id" title="definition">PStoreApprox</span></a> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="lib.lang.Lang.html#updateps"><span class="id" title="definition">updateps</span></a> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="lib.typechecking.Typeinfer.html#updateenv"><span class="id" title="definition">updateenv</span></a> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Arith.Peano_dec.html#eq_nat_dec"><span class="id" title="abbreviation">eq_nat_dec</span></a> <span class="id" title="var">x</span> <span class="id" title="var">x0</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="lib.typechecking.Typeinfer.html#updateenv"><span class="id" title="definition">updateenv</span></a> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="exprInterp_eq"><span class="id" title="lemma">exprInterp_eq</span></a>:<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <span class="id" title="var">e</span> <span class="id" title="var">ps</span> <span class="id" title="var">ts</span> <span class="id" title="var">n</span> <span class="id" title="var">ps'</span> <span class="id" title="var">ts'</span> <span class="id" title="var">n'</span>  <span class="id" title="var">l</span> <span class="id" title="var">envp</span> <span class="id" title="var">l'</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">Hexprinterp</span> : <a class="idref" href="lib.lang.Lang.html#ExprInterp"><span class="id" title="definition">ExprInterp</span></a> <a class="idref" href="lib.soundness.simulation.welltype_tsim.lemmas.Sim_lemmas.html#e"><span class="id" title="variable">e</span></a> <a class="idref" href="lib.soundness.simulation.welltype_tsim.lemmas.Sim_lemmas.html#ps"><span class="id" title="variable">ps</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><a class="idref" href="lib.soundness.simulation.welltype_tsim.lemmas.Sim_lemmas.html#ts"><span class="id" title="variable">ts</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="lib.soundness.simulation.welltype_tsim.lemmas.Sim_lemmas.html#n"><span class="id" title="variable">n</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">Hexprinterp'</span> : <a class="idref" href="lib.lang.Lang.html#ExprInterp"><span class="id" title="definition">ExprInterp</span></a> <a class="idref" href="lib.soundness.simulation.welltype_tsim.lemmas.Sim_lemmas.html#e"><span class="id" title="variable">e</span></a> <a class="idref" href="lib.soundness.simulation.welltype_tsim.lemmas.Sim_lemmas.html#ps'"><span class="id" title="variable">ps'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><a class="idref" href="lib.soundness.simulation.welltype_tsim.lemmas.Sim_lemmas.html#ts'"><span class="id" title="variable">ts'</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="lib.soundness.simulation.welltype_tsim.lemmas.Sim_lemmas.html#n'"><span class="id" title="variable">n'</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">HPStoreApprox</span> : <a class="idref" href="lib.soundness.LeakFree.html#PStoreApprox"><span class="id" title="definition">PStoreApprox</span></a> <a class="idref" href="lib.soundness.simulation.welltype_tsim.lemmas.Sim_lemmas.html#ps"><span class="id" title="variable">ps</span></a> <a class="idref" href="lib.soundness.simulation.welltype_tsim.lemmas.Sim_lemmas.html#ps'"><span class="id" title="variable">ps'</span></a> <a class="idref" href="lib.soundness.simulation.welltype_tsim.lemmas.Sim_lemmas.html#l"><span class="id" title="variable">l</span></a> <a class="idref" href="lib.soundness.simulation.welltype_tsim.lemmas.Sim_lemmas.html#envp"><span class="id" title="variable">envp</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">Hexprlabel</span>: <a class="idref" href="lib.typechecking.Typeinfer.html#ExprTypeSafe"><span class="id" title="inductive">ExprTypeSafe</span></a> <a class="idref" href="lib.soundness.simulation.welltype_tsim.lemmas.Sim_lemmas.html#envp"><span class="id" title="variable">envp</span></a> <a class="idref" href="lib.soundness.simulation.welltype_tsim.lemmas.Sim_lemmas.html#e"><span class="id" title="variable">e</span></a> <a class="idref" href="lib.soundness.simulation.welltype_tsim.lemmas.Sim_lemmas.html#l'"><span class="id" title="variable">l'</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">Hlabelleq</span>: <a class="idref" href="lib.lang.Lang.html#labelleq"><span class="id" title="definition">labelleq</span></a> <a class="idref" href="lib.soundness.simulation.welltype_tsim.lemmas.Sim_lemmas.html#l'"><span class="id" title="variable">l'</span></a> <a class="idref" href="lib.soundness.simulation.welltype_tsim.lemmas.Sim_lemmas.html#l"><span class="id" title="variable">l</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="lib.soundness.simulation.welltype_tsim.lemmas.Sim_lemmas.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="lib.soundness.simulation.welltype_tsim.lemmas.Sim_lemmas.html#n'"><span class="id" title="variable">n'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d82a7d96d3659d805ffe732283716822"><span class="id" title="notation">∧</span></a> <a class="idref" href="lib.lang.Lang.html#ts_eq"><span class="id" title="definition">ts_eq</span></a> <a class="idref" href="lib.soundness.simulation.welltype_tsim.lemmas.Sim_lemmas.html#ts"><span class="id" title="variable">ts</span></a>  <a class="idref" href="lib.soundness.simulation.welltype_tsim.lemmas.Sim_lemmas.html#ts'"><span class="id" title="variable">ts'</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">e</span>; <span class="id" title="tactic">intros</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">Hexprlabel</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eauto</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">congruence</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">Hexprlabel</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">remember</span> (<a class="idref" href="lib.lang.Lang.html#ExprInterp"><span class="id" title="definition">ExprInterp</span></a> <span class="id" title="var">e1</span> <span class="id" title="var">ps</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">v1</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">v1</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">ts1</span> <span class="id" title="var">n1</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#eq_sym"><span class="id" title="lemma">eq_sym</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Heqv1</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">remember</span> (<a class="idref" href="lib.lang.Lang.html#ExprInterp"><span class="id" title="definition">ExprInterp</span></a> <span class="id" title="var">e2</span> <span class="id" title="var">ps</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">v2</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">v2</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">ts2</span> <span class="id" title="var">n2</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#eq_sym"><span class="id" title="lemma">eq_sym</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Heqv2</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">remember</span> (<a class="idref" href="lib.lang.Lang.html#ExprInterp"><span class="id" title="definition">ExprInterp</span></a> <span class="id" title="var">e1</span> <span class="id" title="var">ps'</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">v1'</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">v1'</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">ts1'</span> <span class="id" title="var">n1'</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#eq_sym"><span class="id" title="lemma">eq_sym</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Heqv1'</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">remember</span> (<a class="idref" href="lib.lang.Lang.html#ExprInterp"><span class="id" title="definition">ExprInterp</span></a> <span class="id" title="var">e2</span> <span class="id" title="var">ps'</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">v2'</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">v2'</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">ts2'</span> <span class="id" title="var">n2'</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#eq_sym"><span class="id" title="lemma">eq_sym</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Heqv2'</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="lib.lang.Lang.html#labelleq"><span class="id" title="definition">labelleq</span></a> <span class="id" title="var">l1</span> <span class="id" title="var">l</span>) <span class="id" title="tactic">by</span> (<span class="id" title="tactic">eauto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">baselabel</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="lib.lang.Lang.html#labelleq"><span class="id" title="definition">labelleq</span></a> <span class="id" title="var">l2</span> <span class="id" title="var">l</span>) <span class="id" title="tactic">by</span> (<span class="id" title="tactic">eauto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">baselabel</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">n1</span> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <span class="id" title="var">n1'</span> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d82a7d96d3659d805ffe732283716822"><span class="id" title="notation">∧</span></a> <a class="idref" href="lib.lang.Lang.html#ts_eq"><span class="id" title="definition">ts_eq</span></a> <span class="id" title="var">ts1</span> <span class="id" title="var">ts1'</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">Hv1eq</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> (<span class="id" title="tactic">eapply</span> <span class="id" title="var">IHe1</span>; <span class="id" title="tactic">eauto</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">n2</span> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <span class="id" title="var">n2'</span> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d82a7d96d3659d805ffe732283716822"><span class="id" title="notation">∧</span></a> <a class="idref" href="lib.lang.Lang.html#ts_eq"><span class="id" title="definition">ts_eq</span></a> <span class="id" title="var">ts2</span> <span class="id" title="var">ts2'</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">Hv2eq</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> (<span class="id" title="tactic">eapply</span> <span class="id" title="var">IHe2</span>; <span class="id" title="tactic">eauto</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hv1eq</span>; <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hv2eq</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">congruence</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="bexpInterp_eq"><span class="id" title="lemma">bexpInterp_eq</span></a>:<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <span class="id" title="var">b</span> <span class="id" title="var">ps</span> <span class="id" title="var">ts</span> <span class="id" title="var">n</span> <span class="id" title="var">ps'</span> <span class="id" title="var">ts'</span> <span class="id" title="var">n'</span>  <span class="id" title="var">l</span> <span class="id" title="var">envp</span> <span class="id" title="var">l'</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">Hbexpinterp</span> : <a class="idref" href="lib.lang.Lang.html#BexpInterp"><span class="id" title="definition">BexpInterp</span></a> <a class="idref" href="lib.soundness.simulation.welltype_tsim.lemmas.Sim_lemmas.html#b"><span class="id" title="variable">b</span></a> <a class="idref" href="lib.soundness.simulation.welltype_tsim.lemmas.Sim_lemmas.html#ps"><span class="id" title="variable">ps</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><a class="idref" href="lib.soundness.simulation.welltype_tsim.lemmas.Sim_lemmas.html#ts"><span class="id" title="variable">ts</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="lib.soundness.simulation.welltype_tsim.lemmas.Sim_lemmas.html#n"><span class="id" title="variable">n</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">Hbexpinterp'</span> : <a class="idref" href="lib.lang.Lang.html#BexpInterp"><span class="id" title="definition">BexpInterp</span></a> <a class="idref" href="lib.soundness.simulation.welltype_tsim.lemmas.Sim_lemmas.html#b"><span class="id" title="variable">b</span></a> <a class="idref" href="lib.soundness.simulation.welltype_tsim.lemmas.Sim_lemmas.html#ps'"><span class="id" title="variable">ps'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><a class="idref" href="lib.soundness.simulation.welltype_tsim.lemmas.Sim_lemmas.html#ts'"><span class="id" title="variable">ts'</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="lib.soundness.simulation.welltype_tsim.lemmas.Sim_lemmas.html#n'"><span class="id" title="variable">n'</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">HPStoreApprox</span> : <a class="idref" href="lib.soundness.LeakFree.html#PStoreApprox"><span class="id" title="definition">PStoreApprox</span></a> <a class="idref" href="lib.soundness.simulation.welltype_tsim.lemmas.Sim_lemmas.html#ps"><span class="id" title="variable">ps</span></a> <a class="idref" href="lib.soundness.simulation.welltype_tsim.lemmas.Sim_lemmas.html#ps'"><span class="id" title="variable">ps'</span></a> <a class="idref" href="lib.soundness.simulation.welltype_tsim.lemmas.Sim_lemmas.html#l"><span class="id" title="variable">l</span></a> <a class="idref" href="lib.soundness.simulation.welltype_tsim.lemmas.Sim_lemmas.html#envp"><span class="id" title="variable">envp</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">Hbexplabel</span>: <a class="idref" href="lib.typechecking.Typeinfer.html#BexpTypeSafe"><span class="id" title="inductive">BexpTypeSafe</span></a> <a class="idref" href="lib.soundness.simulation.welltype_tsim.lemmas.Sim_lemmas.html#envp"><span class="id" title="variable">envp</span></a> <a class="idref" href="lib.soundness.simulation.welltype_tsim.lemmas.Sim_lemmas.html#b"><span class="id" title="variable">b</span></a> <a class="idref" href="lib.soundness.simulation.welltype_tsim.lemmas.Sim_lemmas.html#l'"><span class="id" title="variable">l'</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">Hlabelleq</span>: <a class="idref" href="lib.lang.Lang.html#labelleq"><span class="id" title="definition">labelleq</span></a> <a class="idref" href="lib.soundness.simulation.welltype_tsim.lemmas.Sim_lemmas.html#l'"><span class="id" title="variable">l'</span></a> <a class="idref" href="lib.soundness.simulation.welltype_tsim.lemmas.Sim_lemmas.html#l"><span class="id" title="variable">l</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="lib.soundness.simulation.welltype_tsim.lemmas.Sim_lemmas.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="lib.soundness.simulation.welltype_tsim.lemmas.Sim_lemmas.html#n'"><span class="id" title="variable">n'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d82a7d96d3659d805ffe732283716822"><span class="id" title="notation">∧</span></a> <a class="idref" href="lib.lang.Lang.html#ts_eq"><span class="id" title="definition">ts_eq</span></a> <a class="idref" href="lib.soundness.simulation.welltype_tsim.lemmas.Sim_lemmas.html#ts"><span class="id" title="variable">ts</span></a>  <a class="idref" href="lib.soundness.simulation.welltype_tsim.lemmas.Sim_lemmas.html#ts'"><span class="id" title="variable">ts'</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">b</span>; <span class="id" title="tactic">intros</span>;<br/>
<br/>
&nbsp;&nbsp;<br/>
&nbsp;&nbsp;<span class="id" title="tactic">try</span> <span class="id" title="tactic">solve</span>[<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">Hbexplabel</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">congruence</span>];<br/>
<br/>
<br/>
&nbsp;&nbsp;<br/>
&nbsp;&nbsp;<span class="id" title="tactic">try</span> <span class="id" title="tactic">solve</span>[<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">Hbexplabel</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">remember</span> (<a class="idref" href="lib.lang.Lang.html#ExprInterp"><span class="id" title="definition">ExprInterp</span></a> <span class="id" title="var">e1</span> <span class="id" title="var">ps</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">v1</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">v1</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">ts1</span> <span class="id" title="var">n1</span>];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#eq_sym"><span class="id" title="lemma">eq_sym</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Heqv1</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">remember</span> (<a class="idref" href="lib.lang.Lang.html#ExprInterp"><span class="id" title="definition">ExprInterp</span></a> <span class="id" title="var">e2</span> <span class="id" title="var">ps</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">v2</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">v2</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">ts2</span> <span class="id" title="var">n2</span>];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#eq_sym"><span class="id" title="lemma">eq_sym</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Heqv2</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">remember</span> (<a class="idref" href="lib.lang.Lang.html#ExprInterp"><span class="id" title="definition">ExprInterp</span></a> <span class="id" title="var">e1</span> <span class="id" title="var">ps'</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">v1'</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">v1'</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">ts1'</span> <span class="id" title="var">n1'</span>];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#eq_sym"><span class="id" title="lemma">eq_sym</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Heqv1'</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">remember</span> (<a class="idref" href="lib.lang.Lang.html#ExprInterp"><span class="id" title="definition">ExprInterp</span></a> <span class="id" title="var">e2</span> <span class="id" title="var">ps'</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">v2'</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">v2'</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">ts2'</span> <span class="id" title="var">n2'</span>];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#eq_sym"><span class="id" title="lemma">eq_sym</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Heqv2'</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="lib.lang.Lang.html#labelleq"><span class="id" title="definition">labelleq</span></a> <span class="id" title="var">l1</span> <span class="id" title="var">l</span>) <span class="id" title="tactic">by</span> (<span class="id" title="tactic">eauto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">baselabel</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="lib.lang.Lang.html#labelleq"><span class="id" title="definition">labelleq</span></a> <span class="id" title="var">l2</span> <span class="id" title="var">l</span>) <span class="id" title="tactic">by</span> (<span class="id" title="tactic">eauto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">baselabel</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">n1</span> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <span class="id" title="var">n1'</span> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d82a7d96d3659d805ffe732283716822"><span class="id" title="notation">∧</span></a> <a class="idref" href="lib.lang.Lang.html#ts_eq"><span class="id" title="definition">ts_eq</span></a> <span class="id" title="var">ts1</span> <span class="id" title="var">ts1'</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">Hv1eq</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> (<span class="id" title="tactic">eapply</span> <a class="idref" href="lib.soundness.simulation.welltype_tsim.lemmas.Sim_lemmas.html#exprInterp_eq"><span class="id" title="lemma">exprInterp_eq</span></a>; <span class="id" title="tactic">eauto</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">n2</span> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <span class="id" title="var">n2'</span> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d82a7d96d3659d805ffe732283716822"><span class="id" title="notation">∧</span></a> <a class="idref" href="lib.lang.Lang.html#ts_eq"><span class="id" title="definition">ts_eq</span></a> <span class="id" title="var">ts2</span> <span class="id" title="var">ts2'</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">Hv2eq</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> (<span class="id" title="tactic">eapply</span> <a class="idref" href="lib.soundness.simulation.welltype_tsim.lemmas.Sim_lemmas.html#exprInterp_eq"><span class="id" title="lemma">exprInterp_eq</span></a>; <span class="id" title="tactic">eauto</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hv1eq</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hv2eq</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">congruence</span>].<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">Hbexplabel</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">remember</span> (<a class="idref" href="lib.lang.Lang.html#BexpInterp"><span class="id" title="definition">BexpInterp</span></a> <span class="id" title="var">b</span> <span class="id" title="var">ps</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">v1</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">v1</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">ts1</span> <span class="id" title="var">n1</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#eq_sym"><span class="id" title="lemma">eq_sym</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Heqv1</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">remember</span> (<a class="idref" href="lib.lang.Lang.html#BexpInterp"><span class="id" title="definition">BexpInterp</span></a> <span class="id" title="var">b</span> <span class="id" title="var">ps'</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">v1'</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">v1'</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">ts1'</span> <span class="id" title="var">n1'</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#eq_sym"><span class="id" title="lemma">eq_sym</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Heqv1'</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">Hbexpinterp</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">Hbexpinterp'</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">n1</span> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <span class="id" title="var">n1'</span> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d82a7d96d3659d805ffe732283716822"><span class="id" title="notation">∧</span></a> <a class="idref" href="lib.lang.Lang.html#ts_eq"><span class="id" title="definition">ts_eq</span></a> <span class="id" title="var">ts</span> <span class="id" title="var">ts'</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">Hveq</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hveq</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">congruence</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Hint Resolve</span> <span class="id" title="var">bexpInterp_eq</span>: <span class="id" title="var">basesound</span>.<br/>
<span class="id" title="keyword">Hint Resolve</span> <span class="id" title="var">exprInterp_eq</span>: <span class="id" title="var">basesound</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="in_tpc_union_in_tpc"><span class="id" title="lemma">in_tpc_union_in_tpc</span></a>:<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <span class="id" title="var">tpc</span> <span class="id" title="var">i</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">Hin</span>: <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Lists.List.html#In"><span class="id" title="definition">In</span></a> <a class="idref" href="lib.soundness.simulation.welltype_tsim.lemmas.Sim_lemmas.html#i"><span class="id" title="variable">i</span></a> (<a class="idref" href="lib.lang.Lang.html#tpc_union"><span class="id" title="definition">tpc_union</span></a> <a class="idref" href="lib.soundness.simulation.welltype_tsim.lemmas.Sim_lemmas.html#tpc"><span class="id" title="variable">tpc</span></a>)),<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#84eb6d2849dbf3581b1c0c05add5f2d8"><span class="id" title="notation">∃</span></a> <span class="id" title="var">ts</span><a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#84eb6d2849dbf3581b1c0c05add5f2d8"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Lists.List.html#In"><span class="id" title="definition">In</span></a> <a class="idref" href="lib.soundness.simulation.welltype_tsim.lemmas.Sim_lemmas.html#ts"><span class="id" title="variable">ts</span></a> <a class="idref" href="lib.soundness.simulation.welltype_tsim.lemmas.Sim_lemmas.html#tpc"><span class="id" title="variable">tpc</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d82a7d96d3659d805ffe732283716822"><span class="id" title="notation">∧</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Lists.List.html#In"><span class="id" title="definition">In</span></a> <a class="idref" href="lib.soundness.simulation.welltype_tsim.lemmas.Sim_lemmas.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="lib.soundness.simulation.welltype_tsim.lemmas.Sim_lemmas.html#ts"><span class="id" title="variable">ts</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">tpc</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exfalso</span>; <span class="id" title="tactic">auto</span>.<br/>

<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Lists.ListSet.html#set_union_elim"><span class="id" title="lemma">set_union_elim</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hin</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hin1</span> | <span class="id" title="var">Hin2</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">a</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">IHtpc</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hin2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hin2</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">ts</span> [<span class="id" title="var">Hints</span> <span class="id" title="var">Hin</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">ts</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="in_tpc_in_tpc_union"><span class="id" title="lemma">in_tpc_in_tpc_union</span></a>:<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <span class="id" title="var">tpc</span> <span class="id" title="var">i</span> <span class="id" title="var">ts</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">Hints</span>: <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Lists.List.html#In"><span class="id" title="definition">In</span></a> <a class="idref" href="lib.soundness.simulation.welltype_tsim.lemmas.Sim_lemmas.html#ts"><span class="id" title="variable">ts</span></a> <a class="idref" href="lib.soundness.simulation.welltype_tsim.lemmas.Sim_lemmas.html#tpc"><span class="id" title="variable">tpc</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">Hin</span>: <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Lists.List.html#In"><span class="id" title="definition">In</span></a> <a class="idref" href="lib.soundness.simulation.welltype_tsim.lemmas.Sim_lemmas.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="lib.soundness.simulation.welltype_tsim.lemmas.Sim_lemmas.html#ts"><span class="id" title="variable">ts</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Lists.List.html#In"><span class="id" title="definition">In</span></a> <a class="idref" href="lib.soundness.simulation.welltype_tsim.lemmas.Sim_lemmas.html#i"><span class="id" title="variable">i</span></a> (<a class="idref" href="lib.lang.Lang.html#tpc_union"><span class="id" title="definition">tpc_union</span></a> <a class="idref" href="lib.soundness.simulation.welltype_tsim.lemmas.Sim_lemmas.html#tpc"><span class="id" title="variable">tpc</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">tpc</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exfalso</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hints</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Lists.ListSet.html#set_union_intro"><span class="id" title="lemma">set_union_intro</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">left</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Lists.ListSet.html#set_union_intro2"><span class="id" title="lemma">set_union_intro2</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">IHtpc</span>; <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Fixpoint</span> <a name="ExprVars"><span class="id" title="definition">ExprVars</span></a>(<span class="id" title="var">e</span>: <a class="idref" href="lib.lang.Lang.html#Expr"><span class="id" title="inductive">Expr</span></a>) :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="lib.soundness.simulation.welltype_tsim.lemmas.Sim_lemmas.html#e"><span class="id" title="variable">e</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="lib.lang.Lang.html#EVar"><span class="id" title="constructor">EVar</span></a> <span class="id" title="var">x</span> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#cons"><span class="id" title="constructor">cons</span></a> <span class="id" title="var">x</span> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a><br/>
&nbsp;&nbsp;| <a class="idref" href="lib.lang.Lang.html#ENum"><span class="id" title="constructor">ENum</span></a> <span class="id" title="var">n</span> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a><br/>
&nbsp;&nbsp;| <a class="idref" href="lib.lang.Lang.html#EAdd"><span class="id" title="constructor">EAdd</span></a> <span class="id" title="var">e1</span> <span class="id" title="var">e2</span> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Lists.ListSet.html#set_union"><span class="id" title="definition">set_union</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Arith.PeanoNat.html#Nat.eq_dec"><span class="id" title="lemma">Nat.eq_dec</span></a> (<a class="idref" href="lib.soundness.simulation.welltype_tsim.lemmas.Sim_lemmas.html#ExprVars"><span class="id" title="definition">ExprVars</span></a> <span class="id" title="var">e1</span>) (<a class="idref" href="lib.soundness.simulation.welltype_tsim.lemmas.Sim_lemmas.html#ExprVars"><span class="id" title="definition">ExprVars</span></a> <span class="id" title="var">e2</span>)<br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Fixpoint</span> <a name="BexpVars"><span class="id" title="definition">BexpVars</span></a> (<span class="id" title="var">b</span>:<a class="idref" href="lib.lang.Lang.html#Bexp"><span class="id" title="inductive">Bexp</span></a>):= <br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="lib.soundness.simulation.welltype_tsim.lemmas.Sim_lemmas.html#b"><span class="id" title="variable">b</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="lib.lang.Lang.html#Btrue"><span class="id" title="constructor">Btrue</span></a> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="lib.lang.Lang.html#Bfalse"><span class="id" title="constructor">Bfalse</span></a> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="lib.lang.Lang.html#Beq"><span class="id" title="constructor">Beq</span></a> <span class="id" title="var">e1</span> <span class="id" title="var">e2</span> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Lists.ListSet.html#set_union"><span class="id" title="definition">set_union</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Arith.PeanoNat.html#Nat.eq_dec"><span class="id" title="lemma">Nat.eq_dec</span></a> (<a class="idref" href="lib.soundness.simulation.welltype_tsim.lemmas.Sim_lemmas.html#ExprVars"><span class="id" title="definition">ExprVars</span></a> <span class="id" title="var">e1</span>) (<a class="idref" href="lib.soundness.simulation.welltype_tsim.lemmas.Sim_lemmas.html#ExprVars"><span class="id" title="definition">ExprVars</span></a> <span class="id" title="var">e2</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="lib.lang.Lang.html#Bleq"><span class="id" title="constructor">Bleq</span></a> <span class="id" title="var">e1</span> <span class="id" title="var">e2</span> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Lists.ListSet.html#set_union"><span class="id" title="definition">set_union</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Arith.PeanoNat.html#Nat.eq_dec"><span class="id" title="lemma">Nat.eq_dec</span></a> (<a class="idref" href="lib.soundness.simulation.welltype_tsim.lemmas.Sim_lemmas.html#ExprVars"><span class="id" title="definition">ExprVars</span></a> <span class="id" title="var">e1</span>) (<a class="idref" href="lib.soundness.simulation.welltype_tsim.lemmas.Sim_lemmas.html#ExprVars"><span class="id" title="definition">ExprVars</span></a> <span class="id" title="var">e2</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="lib.lang.Lang.html#Bnot"><span class="id" title="constructor">Bnot</span></a> <span class="id" title="var">b1</span> ⇒ <a class="idref" href="lib.soundness.simulation.welltype_tsim.lemmas.Sim_lemmas.html#BexpVars"><span class="id" title="definition">BexpVars</span></a> <span class="id" title="var">b1</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="exprInterp_in_var_in"><span class="id" title="lemma">exprInterp_in_var_in</span></a>:<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <span class="id" title="var">e</span> <span class="id" title="var">ps</span> <span class="id" title="var">ts</span> <span class="id" title="var">n</span> <span class="id" title="var">i</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">Hexprinterp</span>: <a class="idref" href="lib.lang.Lang.html#ExprInterp"><span class="id" title="definition">ExprInterp</span></a> <a class="idref" href="lib.soundness.simulation.welltype_tsim.lemmas.Sim_lemmas.html#e"><span class="id" title="variable">e</span></a> <a class="idref" href="lib.soundness.simulation.welltype_tsim.lemmas.Sim_lemmas.html#ps"><span class="id" title="variable">ps</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><a class="idref" href="lib.soundness.simulation.welltype_tsim.lemmas.Sim_lemmas.html#ts"><span class="id" title="variable">ts</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="lib.soundness.simulation.welltype_tsim.lemmas.Sim_lemmas.html#n"><span class="id" title="variable">n</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">Hin</span>: <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Lists.List.html#In"><span class="id" title="definition">In</span></a> <a class="idref" href="lib.soundness.simulation.welltype_tsim.lemmas.Sim_lemmas.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="lib.soundness.simulation.welltype_tsim.lemmas.Sim_lemmas.html#ts"><span class="id" title="variable">ts</span></a>),<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#84eb6d2849dbf3581b1c0c05add5f2d8"><span class="id" title="notation">∃</span></a> <span class="id" title="var">x</span> <span class="id" title="var">ts'</span> <span class="id" title="var">n'</span><a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#84eb6d2849dbf3581b1c0c05add5f2d8"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Lists.List.html#In"><span class="id" title="definition">In</span></a> <a class="idref" href="lib.soundness.simulation.welltype_tsim.lemmas.Sim_lemmas.html#x"><span class="id" title="variable">x</span></a> (<a class="idref" href="lib.soundness.simulation.welltype_tsim.lemmas.Sim_lemmas.html#ExprVars"><span class="id" title="definition">ExprVars</span></a> <a class="idref" href="lib.soundness.simulation.welltype_tsim.lemmas.Sim_lemmas.html#e"><span class="id" title="variable">e</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d82a7d96d3659d805ffe732283716822"><span class="id" title="notation">∧</span></a>  <a class="idref" href="lib.soundness.simulation.welltype_tsim.lemmas.Sim_lemmas.html#ps"><span class="id" title="variable">ps</span></a> <a class="idref" href="lib.soundness.simulation.welltype_tsim.lemmas.Sim_lemmas.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><a class="idref" href="lib.soundness.simulation.welltype_tsim.lemmas.Sim_lemmas.html#ts'"><span class="id" title="variable">ts'</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="lib.soundness.simulation.welltype_tsim.lemmas.Sim_lemmas.html#n'"><span class="id" title="variable">n'</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d82a7d96d3659d805ffe732283716822"><span class="id" title="notation">∧</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Lists.List.html#In"><span class="id" title="definition">In</span></a> <a class="idref" href="lib.soundness.simulation.welltype_tsim.lemmas.Sim_lemmas.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="lib.soundness.simulation.welltype_tsim.lemmas.Sim_lemmas.html#ts'"><span class="id" title="variable">ts'</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">e</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">x</span>, <span class="id" title="var">ts</span>, <span class="id" title="var">n</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">Hexprinterp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">Hin</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">remember</span> (<a class="idref" href="lib.lang.Lang.html#ExprInterp"><span class="id" title="definition">ExprInterp</span></a> <span class="id" title="var">e1</span> <span class="id" title="var">ps</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">v1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">remember</span> (<a class="idref" href="lib.lang.Lang.html#ExprInterp"><span class="id" title="definition">ExprInterp</span></a> <span class="id" title="var">e2</span> <span class="id" title="var">ps</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">v2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">v1</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">ts1</span> <span class="id" title="var">n1</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">v2</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">ts2</span> <span class="id" title="var">n2</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">Hexprinterp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="lib.lang.Lang.html#ts_union"><span class="id" title="definition">ts_union</span></a> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Lists.ListSet.html#set_union_elim"><span class="id" title="lemma">set_union_elim</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hin</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hin1</span> | <span class="id" title="var">Hin2</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">eapply</span> <span class="id" title="var">IHe1</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hin1</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hin1</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">x</span> [<span class="id" title="var">ts'</span> [<span class="id" title="var">n'</span> [<span class="id" title="var">Hinx</span> [<span class="id" title="var">Hpsx</span> <span class="id" title="var">Hin'</span>]]]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">x</span>, <span class="id" title="var">ts'</span>, <span class="id" title="var">n'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Lists.ListSet.html#set_union_intro"><span class="id" title="lemma">set_union_intro</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">left</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">split</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">eapply</span> <span class="id" title="var">IHe2</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hin2</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hin2</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">x</span> [<span class="id" title="var">ts'</span> [<span class="id" title="var">n'</span> [<span class="id" title="var">Hinx</span> [<span class="id" title="var">Hpsx</span> <span class="id" title="var">Hin'</span>]]]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">x</span>, <span class="id" title="var">ts'</span>, <span class="id" title="var">n'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Lists.ListSet.html#set_union_intro"><span class="id" title="lemma">set_union_intro</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">right</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">split</span>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="bexpInterp_in_var_in"><span class="id" title="lemma">bexpInterp_in_var_in</span></a>:<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <span class="id" title="var">b</span> <span class="id" title="var">ps</span> <span class="id" title="var">ts</span> <span class="id" title="var">n</span> <span class="id" title="var">i</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">Hbexpinterp</span>: <a class="idref" href="lib.lang.Lang.html#BexpInterp"><span class="id" title="definition">BexpInterp</span></a> <a class="idref" href="lib.soundness.simulation.welltype_tsim.lemmas.Sim_lemmas.html#b"><span class="id" title="variable">b</span></a> <a class="idref" href="lib.soundness.simulation.welltype_tsim.lemmas.Sim_lemmas.html#ps"><span class="id" title="variable">ps</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><a class="idref" href="lib.soundness.simulation.welltype_tsim.lemmas.Sim_lemmas.html#ts"><span class="id" title="variable">ts</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="lib.soundness.simulation.welltype_tsim.lemmas.Sim_lemmas.html#n"><span class="id" title="variable">n</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">Hin</span>: <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Lists.List.html#In"><span class="id" title="definition">In</span></a> <a class="idref" href="lib.soundness.simulation.welltype_tsim.lemmas.Sim_lemmas.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="lib.soundness.simulation.welltype_tsim.lemmas.Sim_lemmas.html#ts"><span class="id" title="variable">ts</span></a>),<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#84eb6d2849dbf3581b1c0c05add5f2d8"><span class="id" title="notation">∃</span></a> <span class="id" title="var">x</span> <span class="id" title="var">ts'</span> <span class="id" title="var">n'</span><a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#84eb6d2849dbf3581b1c0c05add5f2d8"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Lists.List.html#In"><span class="id" title="definition">In</span></a> <a class="idref" href="lib.soundness.simulation.welltype_tsim.lemmas.Sim_lemmas.html#x"><span class="id" title="variable">x</span></a> (<a class="idref" href="lib.soundness.simulation.welltype_tsim.lemmas.Sim_lemmas.html#BexpVars"><span class="id" title="definition">BexpVars</span></a> <a class="idref" href="lib.soundness.simulation.welltype_tsim.lemmas.Sim_lemmas.html#b"><span class="id" title="variable">b</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d82a7d96d3659d805ffe732283716822"><span class="id" title="notation">∧</span></a>  <a class="idref" href="lib.soundness.simulation.welltype_tsim.lemmas.Sim_lemmas.html#ps"><span class="id" title="variable">ps</span></a> <a class="idref" href="lib.soundness.simulation.welltype_tsim.lemmas.Sim_lemmas.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><a class="idref" href="lib.soundness.simulation.welltype_tsim.lemmas.Sim_lemmas.html#ts'"><span class="id" title="variable">ts'</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="lib.soundness.simulation.welltype_tsim.lemmas.Sim_lemmas.html#n'"><span class="id" title="variable">n'</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d82a7d96d3659d805ffe732283716822"><span class="id" title="notation">∧</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Lists.List.html#In"><span class="id" title="definition">In</span></a> <a class="idref" href="lib.soundness.simulation.welltype_tsim.lemmas.Sim_lemmas.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="lib.soundness.simulation.welltype_tsim.lemmas.Sim_lemmas.html#ts'"><span class="id" title="variable">ts'</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">b</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">Hbexpinterp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">Hin</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">Hbexpinterp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">Hin</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">remember</span> (<a class="idref" href="lib.lang.Lang.html#ExprInterp"><span class="id" title="definition">ExprInterp</span></a> <span class="id" title="var">e1</span> <span class="id" title="var">ps</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">v1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">remember</span> (<a class="idref" href="lib.lang.Lang.html#ExprInterp"><span class="id" title="definition">ExprInterp</span></a> <span class="id" title="var">e2</span> <span class="id" title="var">ps</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">v2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">v1</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">ts1</span> <span class="id" title="var">n1</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">v2</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">ts2</span> <span class="id" title="var">n2</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">Hbexpinterp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="lib.lang.Lang.html#ts_union"><span class="id" title="definition">ts_union</span></a> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Lists.ListSet.html#set_union_elim"><span class="id" title="lemma">set_union_elim</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hin</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hin1</span> | <span class="id" title="var">Hin2</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">eapply</span> <a class="idref" href="lib.soundness.simulation.welltype_tsim.lemmas.Sim_lemmas.html#exprInterp_in_var_in"><span class="id" title="lemma">exprInterp_in_var_in</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hin1</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hin1</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">x</span> [<span class="id" title="var">ts'</span> [<span class="id" title="var">n'</span> [<span class="id" title="var">Hinx</span> [<span class="id" title="var">Hpsx</span> <span class="id" title="var">Hin'</span>]]]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">x</span>, <span class="id" title="var">ts'</span>, <span class="id" title="var">n'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Lists.ListSet.html#set_union_intro"><span class="id" title="lemma">set_union_intro</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">left</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">split</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">eapply</span> <a class="idref" href="lib.soundness.simulation.welltype_tsim.lemmas.Sim_lemmas.html#exprInterp_in_var_in"><span class="id" title="lemma">exprInterp_in_var_in</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hin2</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hin2</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">x</span> [<span class="id" title="var">ts'</span> [<span class="id" title="var">n'</span> [<span class="id" title="var">Hinx</span> [<span class="id" title="var">Hpsx</span> <span class="id" title="var">Hin'</span>]]]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">x</span>, <span class="id" title="var">ts'</span>, <span class="id" title="var">n'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Lists.ListSet.html#set_union_intro"><span class="id" title="lemma">set_union_intro</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">right</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">split</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">remember</span> (<a class="idref" href="lib.lang.Lang.html#ExprInterp"><span class="id" title="definition">ExprInterp</span></a> <span class="id" title="var">e1</span> <span class="id" title="var">ps</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">v1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">remember</span> (<a class="idref" href="lib.lang.Lang.html#ExprInterp"><span class="id" title="definition">ExprInterp</span></a> <span class="id" title="var">e2</span> <span class="id" title="var">ps</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">v2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">v1</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">ts1</span> <span class="id" title="var">n1</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">v2</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">ts2</span> <span class="id" title="var">n2</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">Hbexpinterp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="lib.lang.Lang.html#ts_union"><span class="id" title="definition">ts_union</span></a> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Lists.ListSet.html#set_union_elim"><span class="id" title="lemma">set_union_elim</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hin</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hin1</span> | <span class="id" title="var">Hin2</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">eapply</span> <a class="idref" href="lib.soundness.simulation.welltype_tsim.lemmas.Sim_lemmas.html#exprInterp_in_var_in"><span class="id" title="lemma">exprInterp_in_var_in</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hin1</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hin1</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">x</span> [<span class="id" title="var">ts'</span> [<span class="id" title="var">n'</span> [<span class="id" title="var">Hinx</span> [<span class="id" title="var">Hpsx</span> <span class="id" title="var">Hin'</span>]]]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">x</span>, <span class="id" title="var">ts'</span>, <span class="id" title="var">n'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Lists.ListSet.html#set_union_intro"><span class="id" title="lemma">set_union_intro</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">left</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">split</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">eapply</span> <a class="idref" href="lib.soundness.simulation.welltype_tsim.lemmas.Sim_lemmas.html#exprInterp_in_var_in"><span class="id" title="lemma">exprInterp_in_var_in</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hin2</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hin2</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">x</span> [<span class="id" title="var">ts'</span> [<span class="id" title="var">n'</span> [<span class="id" title="var">Hinx</span> [<span class="id" title="var">Hpsx</span> <span class="id" title="var">Hin'</span>]]]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">x</span>, <span class="id" title="var">ts'</span>, <span class="id" title="var">n'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Lists.ListSet.html#set_union_intro"><span class="id" title="lemma">set_union_intro</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">right</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">split</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">remember</span> (<a class="idref" href="lib.lang.Lang.html#BexpInterp"><span class="id" title="definition">BexpInterp</span></a> <span class="id" title="var">b</span> <span class="id" title="var">ps</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">v1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">v1</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">ts1</span> <span class="id" title="var">n1</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">Hbexpinterp</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">IHb</span>; <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
</div>
</div>

<div id="footer">
<hr/><a href="index.html">Index</a><hr/>This page has been generated by <a href="http://coq.inria.fr/">coqdoc</a>
</div>

</div>

</body>
</html>